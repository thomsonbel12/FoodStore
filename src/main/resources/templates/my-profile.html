<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <!-- Basic Page Needs
    ================================================== -->
    <title>HoangLam Foodstore</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="/listeoTemplate/css/style.css">
    <link rel="stylesheet" href="/listeoTemplate/css/main-color.css" id="colors">
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="/css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="/css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <style>
        header.fullwidth.dashboard .container {
            padding-left: 140px;
        }

        header.fullwidth .container {
            width: 100%;
            padding: 0 0px;
            margin-right: auto;
            margin-left: auto;
        }

        header.fullwidth .container {
            width: 100%;
            /*margin: unset;*/
            padding: 0 40px;
        }

        header.fullwidth .container {
            padding: 0 0;
        }

        #dashboard {
            background-color: #f7f7f7;
            min-height: 100vh;
            display: flex;
            flex-wrap: wrap;
            padding-top: 130px;
        }

        .dashboard-content {
            /*margin-left: 0;*/
            margin: 0 120px;
        }

        .header__cart ul li a span {
            top: -15px;
        }

        .edit-profile-photo {
            position: relative;
            margin: 0 130px;
            display: block;
            margin-bottom: 35px;
        }

        button.button {
            background: #7fad39;
        }

        .change-photo-btn {
            bottom: -30px;
        }

        .change-photo-btn:hover {
            background: #7fad39;
        }

        .edit-profile-photo img {
            border-radius: 4px;
            max-width: 175px;
            width: 100%;
        }
    </style>
</head>

<body>

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header Container
    ================================================== -->
    <header id="header-container" class="fixed fullwidth dashboard">

        <!-- Header -->
        <header class="header">
            <div class="header__top">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-md-6">
                            <div class="header__top__left">
                                <ul>
                                    <li><i class="fa fa-envelope"></i> hello@colorlib.com</li>
                                    <li>Free Shipping for all Order of $99</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6">
                            <div class="header__top__right">
                                <div class="header__top__right__social">
                                    <a href="#"><i class="fa fa-facebook"></i></a>
                                    <a href="#"><i class="fa fa-twitter"></i></a>
                                    <a href="#"><i class="fa fa-linkedin"></i></a>
                                    <a href="#"><i class="fa fa-pinterest-p"></i></a>
                                </div>
                                <div class="header__top__right__language">
                                    <img src="/img/language.png" alt="">
                                    <div>English</div>
                                    <span class="arrow_carrot-down"></span>
                                    <ul>
                                        <li><a href="#">Spanis</a></li>
                                        <li><a href="#">English</a></li>
                                    </ul>
                                </div>
                                <div class="header__top__right__auth">
                                    <a th:if="${session.account == null}" th:href="@{/login}"><i class="fa fa-user"></i>
                                        Login</a>
                                    <a th:if="${session.account != null}"
                                       th:text="${session.account.getUserEmail()}"></a>
                                    <a th:if="${session.account != null}" th:href="@{/signout}">Sign Out</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="header__logo">
                            <a th:href="@{/}"><img src="/img/logo.png" alt=""></a>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <nav class="header__menu">
                            <ul>
                                <li class="active"><a th:href="@{/}">Home</a></li>
                                <li><a th:href="@{/shop-item}">Shop</a></li>
                                <li><a href="#">Pages</a>
                                    <ul class="header__menu__dropdown">
                                        <li><a th:href="@{/my-profile}">My Profile</a></li>
                                        <li><a th:href="@{/my-order}">My Order</a></li>
                                        <li><a th:href="@{/shoping-cart}">Shoping Cart</a></li>
                                        <li><a th:href="@{/checkout}">Check Out</a></li>
                                        <li><a th:href="@{/blog-details}">Blog Details</a></li>
                                    </ul>
                                </li>
                                <li><a th:href="@{/blog}">Blog</a></li>
                                <li><a th:href="@{/contact}">Contact</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="col-lg-3">
                        <div class="header__cart">
                            <ul>
                                <li>
                                    <a th:href="@{/favorite}">
                                        <i class="fa fa-heart"></i>
                                        <span th:if="${session.account != null}"
                                              th:text="${session.favorite.size()}"></span>
                                    </a>
                                </li>
                                <li>
                                    <a th:href="@{/shoping-cart}">
                                        <i class="fa fa-shopping-bag"></i>
                                        <span th:if="${session.account != null}"
                                              th:text="${session.cart.size()}"></span>
                                    </a>
                                </li>
                            </ul>
                            <div th:if="${session.account != null}" class="header__cart__price">item: <span
                                    th:text="'$' + ${session.totalCartMoney}">$150.00</span></div>
                        </div>
                    </div>
                </div>
                <div class="humberger__open">
                    <i class="fa fa-bars"></i>
                </div>
            </div>
        </header>
        <!-- Header / End -->

    </header>
    <div class="clearfix"></div>
    <!-- Header Container / End -->


    <!-- Dashboard -->
    <div id="dashboard">

        <div class="dashboard-content">

            <!-- Titlebar -->
            <div id="titlebar">
                <div class="row">
                    <div class="col-md-12">
                        <h2>My Profile</h2>
                        <!-- Breadcrumbs -->
                        <nav id="breadcrumbs">
                            <ul>
                                <li><a th:href="@{/}">Home</a></li>
                                <li>My Profile</li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>

            <div class="row">

                <!-- Profile -->
                <div class="col-lg-6 col-md-12">
                    <div class="dashboard-list-box margin-top-0">
                        <h4 class="gray">Profile Details</h4>
                        <form action="/update-profile" method="post" enctype="multipart/form-data">
                            <div class="dashboard-list-box-static">

                                <!-- Avatar -->
                                <div class="edit-profile-photo">
                                    <div style="display: flex; align-items: flex-end;">
                                        <img th:if="${profileDetail.userImage != null}"
                                             th:src="${profileDetail.userImage}">
                                        <img th:if="${profileDetail.userImage == null}" src="/img/userImage.png">
                                        <img id="new-avatar" src="" style="width: 70px; height: 70px;border-radius: 50%; object-fit: cover; visibility: hidden" >
                                    </div>

                                    <div class="change-photo-btn">
                                        <div class="photoUpload">
                                            <span><i class="fa fa-upload"></i> Upload Photo</span>
                                            <input id="upload-avatar" name="avatar" accept="image/*" type="file" class="upload"/>
                                        </div>
                                    </div>
                                </div>

                                <!-- Details -->
                                <div class="my-profile">

                                    <label>Your Name</label>
                                    <input th:value="${profileDetail.userName}" name="userName" type="text">

                                    <label>Email</label>
                                    <input th:value="${profileDetail.userEmail}" name="email" type="text" disabled
                                           readonly>

                                    <label>Phone</label>
                                    <input type="text">

                                    <label>Address</label>
                                    <input th:value="${profileDetail.userAddress}" name="address" type="text">

                                </div>

                                <button class="button margin-top-15">Save Changes</button>

                            </div>
                        </form>
                    </div>
                </div>

                <!-- Change Password -->
                <div class="col-lg-6 col-md-12">
                    <form action="/change-password" method="post">
                        <!--                        <div style="font-size: 24px; text-align: center">-->
                        <!--                            <span th:if="${status_change == false}" th:text="${status_change_text}"-->
                        <!--                                  style="color: rgb(255, 84, 123)"></span>-->
                        <!--                            <span th:if="${status_change == true}" th:text="${status_change_text}"-->
                        <!--                                  style="color: rgb(45,196,26)"></span>-->
                        <!--                        </div>-->
                        <div class="dashboard-list-box margin-top-0">
                            <h4 class="gray">Change Password</h4>
                            <div class="dashboard-list-box-static">

                                <!-- Change Password -->
                                <div class="my-profile">
                                    <label class="margin-top-0">Current Password</label>
                                    <input type="password" name="pass">

                                    <label>New Password</label>
                                    <input type="password" name="newp">

                                    <label>Confirm New Password</label>
                                    <input type="password" name="repp">

                                    <button class="button margin-top-15">Change Password</button>
                                </div>

                            </div>
                        </div>
                    </form>

                </div>


                <!--                &lt;!&ndash; Copyrights &ndash;&gt;-->
                <!--                <div class="col-md-12">-->
                <!--                    <div class="copyrights">© 2021 Listeo. All Rights Reserved.</div>-->
                <!--                </div>-->

            </div>

        </div>
        <!-- Content / End -->


    </div>
    <!-- Dashboard / End -->


</div>
<!-- Wrapper / End -->
<script>
    const uploadAvatar = document.getElementById("upload-avatar");
    const newAvatar = document.getElementById("new-avatar");

    uploadAvatar.addEventListener("change", function (e){
        newAvatar.style.visibility = "visible";
        let file = uploadAvatar.files[0];
        let fileSrc = URL.createObjectURL(file)
        newAvatar.setAttribute("src", fileSrc);
    })
</script>
<script th:if="${status_change_text == 'Password change successfully !!'}">
    swal("Password change successfully", "", "success");
</script>
<script th:if="${status_change_text == 'Your Old Password is not Correct !!'}">
    swal("Your Old Password is not Correct !!", "", "error");
</script>
<script th:if="${status_change_text == 'Password Confirm not correct !!'}">
    swal("Password Confirm not correct !!", "", "error");
</script>
<!-- Scripts
================================================== -->
<script type="text/javascript" src="/listeoTemplate/scripts/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/jquery-migrate-3.3.2.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/mmenu.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/chosen.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/slick.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/rangeslider.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/magnific-popup.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/waypoints.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/counterup.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/jquery-ui.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/tooltips.min.js"></script>
<script type="text/javascript" src="/listeoTemplate/scripts/custom.js"></script>


<!-- Style Switcher
================================================== -->
<script src="/listeoTemplate/scripts/switcher.js"></script>

<div id="style-switcher">
    <h2>Color Switcher <a href="#"><i class="sl sl-icon-settings"></i></a></h2>

    <div>
        <ul class="colors" id="color1">
            <li><a href="#" class="main" title="Main"></a></li>
            <li><a href="#" class="blue" title="Blue"></a></li>
            <li><a href="#" class="green" title="Green"></a></li>
            <li><a href="#" class="orange" title="Orange"></a></li>
            <li><a href="#" class="navy" title="Navy"></a></li>
            <li><a href="#" class="yellow" title="Yellow"></a></li>
            <li><a href="#" class="peach" title="Peach"></a></li>
            <li><a href="#" class="beige" title="Beige"></a></li>
            <li><a href="#" class="purple" title="Purple"></a></li>
            <li><a href="#" class="celadon" title="Celadon"></a></li>
            <li><a href="#" class="red" title="Red"></a></li>
            <li><a href="#" class="brown" title="Brown"></a></li>
            <li><a href="#" class="cherry" title="Cherry"></a></li>
            <li><a href="#" class="cyan" title="Cyan"></a></li>
            <li><a href="#" class="gray" title="Gray"></a></li>
            <li><a href="#" class="olive" title="Olive"></a></li>
        </ul>
    </div>

</div>
<!-- Style Switcher / End -->

<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.nice-select.min.js"></script>
<script src="/js/jquery-ui.min.js"></script>
<script src="/js/jquery.slicknav.js"></script>
<script src="/js/mixitup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>